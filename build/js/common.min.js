"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}window.onload=function(){var light_theme={"--bg-primary":"#F0F0F0","--bg-secondary":"#E0E6EF","--text-primary":"#0E2B49","--text-secondary":"#748799","--text-tertiary":"#748699"},dark_theme={"--bg-primary":"#030D18","--bg-secondary":"#031120","--text-primary":"#E0E6EF","--text-secondary":"#9DAFC1","--text-tertiary":"#414E5B"},setTheme=function(e,t){for(var a in e)document.documentElement.style.setProperty(a,e[a]);cssVars({variables:e}),"dark"===t?($("body").addClass("dark-theme"),$(".header__theme-switcher").addClass("header__theme-switcher--dark")):($("body").removeClass("dark-theme"),$(".header__theme-switcher").removeClass("header__theme-switcher--dark")),"undefined"!=t&&localStorage.setItem("theme",t)};"dark"===localStorage.getItem("theme")?setTheme(dark_theme,"dark"):"light"===localStorage.getItem("theme")?setTheme(light_theme,"light"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?setTheme(dark_theme,"dark"):setTheme(light_theme,"light");var appearCheck=function(){var e=$(window).innerWidth()>=1200?$(window).scrollTop()+$(window).innerHeight():$(window).scrollTop()+1.2*$(window).innerHeight();$(".js-appear").each((function(t,a){e-$(a).innerHeight()>a.getBoundingClientRect().top+$(window).scrollTop()&&setTimeout((function(){$(a).removeClass("js-appear")}),$(window).innerWidth()>=1200?$(a).attr("data-delay"):0)}))};appearCheck(),$(window).on("scroll",(function(){requestAnimationFrame(appearCheck)})),$(".js-tab").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("data-tab");t.hasClass("profit__tabs-item")&&($(".profit__tabs-item--active").removeClass("profit__tabs-item--active"),t.addClass("profit__tabs-item--active")),t.hasClass("winners__tabs-item")&&($(".winners__tabs-item--active").removeClass("winners__tabs-item--active"),t.addClass("winners__tabs-item--active")),t.parent().parent().find(".js-tab-content").hide(0),t.parent().parent().find('.js-tab-content[data-tab="'.concat(a,'"]')).fadeIn(300)})),new Rellax(".js-parallax"),$(".js-select").each((function(e,t){$(t).select2({minimumResultsForSearch:-1})})),$(".js-logo").addClass("preloader__logo--animated"),setTimeout((function(){$(".js-preloader").css("opacity","0"),setTimeout((function(){$(".js-preloader").remove()}),500)}),1e3);var topOffset=0,hideOverflow=function(){topOffset=window.scrollY,document.body.style.cssText="position: fixed; margin-top: ".concat(-topOffset,"px;")},showOverflow=function(){document.body.style.cssText="position: static; margin-top: 0;",window.scrollTo(0,topOffset)};$(".js-theme").on("click",(function(){$("body").hasClass("dark-theme")?setTheme(light_theme,"light"):setTheme(dark_theme,"dark")})),$(".js-burger").on("click",(function(e){$(e.currentTarget).toggleClass("header__burger--active"),$(".header__menu").toggleClass("header__menu--active"),$(e.currentTarget).hasClass("header__burger--active")?hideOverflow():showOverflow()})),$(".header__user").on("click",(function(e){var t=$(e.currentTarget);t.hasClass("header__user--shown")||(t.toggleClass("header__user--shown"),t.find(".header__user-sub").slideToggle(300))})),$(document).on("click",(function(e){$(e.target).closest(".header__user").length||($(".header__user-sub").slideUp(),$(".header__user--shown").length&&$(".header__user").toggleClass("header__user--shown"))})),$(".header__user-language").on("click",(function(e){$(e.currentTarget).toggleClass("header__user-language--toggled"),$(".header__user-language:last-child").slideToggle(300)}));var gcCoeff=1,gcPrice=5,elseCoeff=.35,elsePrice=1,getProfit=function(e,t,a,r){return parseInt(e*t*a*r)};$(".js-range").each((function(e,t){var a=$(t),r=a.closest(".js-tab-content");a.ionRangeSlider({type:"single",max:a.attr("data-max"),min:a.attr("data-min"),from:a.attr("value"),step:1,onChange:function(e){if($('.js-tab[data-tab="1"]').hasClass("profit__tabs-item--active")){var t=+e.input[0].value,n=getProfit(r.find('.js-range[name="term"]').val(),r.find('.js-range[name="trafic"]').val(),gcCoeff,gcPrice);if(a.parent().find(".js-range-value").text(JSON.parse(a.attr("data-keys")).decline(t,!0)),r.find(".js-profit").text(n),"trafic"===a.attr("name")){for(var i=[],o=1;o<=12;o++)i.push(getProfit(o,t,gcCoeff,gcPrice));chart_gc.chart.data.datasets[0].data=i,chart_gc.update()}}else{var s=+e.input[0].value,l=getProfit(r.find('.js-range[name="term"]').val(),r.find('.js-range[name="trafic"]').val(),elseCoeff,elsePrice);if(a.parent().find(".js-range-value").text(JSON.parse(a.attr("data-keys")).decline(s,!0)),r.find(".js-profit").text(l),"trafic"===a.attr("name")){for(var c=[],d=1;d<=12;d++)c.push(getProfit(d,s,elseCoeff,elsePrice));chart_else.chart.data.datasets[0].data=c,chart_else.update()}}}})}));for(var charts=document.querySelectorAll(".js-chart"),GC_DATA={labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[]},ELSE_DATA={labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[]},i=1;i<=12;i++)GC_DATA.values.push(getProfit(i,1e3,gcCoeff,gcPrice)),ELSE_DATA.values.push(getProfit(i,1e3,elseCoeff,elsePrice));var options={legend:{display:!1},elements:{point:{radius:0,backgroundColor:"#0090FF"}},hover:{mode:"index",intersect:!1},tooltips:{mode:"index",intersect:!1,enabled:!1,custom:function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).id="chartjs-tooltip",t.innerHTML="<div></div>",document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){e.title;var a=e.body.map((function(e){return e.lines})),r="<div>";a.forEach((function(e,t){r+="<p><span>$</span>"+e+"/мес</p>",r+="<p>"+["игрок","игрока","игроков"].decline(+$('input[name="trafic"]').val(),!0)+"</p>"})),r+="</div>",t.innerHTML=r}var n=this._chart.canvas.getBoundingClientRect();t.style.opacity=1,t.style.position="absolute",t.style.left=n.left+window.pageXOffset+e.caretX+"px",t.style.top=n.top+window.pageYOffset+e.caretY+"px",t.style.fontFamily=e._bodyFontFamily,t.style.fontSize=e.bodyFontSize+"px",t.style.fontStyle=e._bodyFontStyle,t.style.padding=e.yPadding+"px "+e.xPadding+"px",t.style.pointerEvents="none"}else t.style.opacity=0}},scales:{yAxes:[{gridLines:{zeroLineColor:"rgba(157, 175, 193, 0.2)",color:"rgba(157, 175, 193, 0.2)",drawBorder:!1},ticks:{beginAtZero:!0,fontColor:"rgba(157, 175, 193, 0.5)",fontFamily:"Gilroy, Helvetica, sans-serif",fontSize:14,padding:window.innerWidth<1200?5:10}}],xAxes:[{gridLines:{display:!1},ticks:{fontColor:"#96A1AD",fontFamily:"Gilroy, Helvetica, sans-serif",fontSize:14,stepSize:7,autoSkip:!1,maxRotation:0,minRotation:0}}]}};Array.from(charts).map((function(el,i){var chartElement=el.getContext("2d"),id=el.getAttribute("data-chart"),DATA=eval("".concat(id.toUpperCase(),"_DATA")),chartOptions=options,gradient=chartElement.createLinearGradient(260,-80,350,350);gradient.addColorStop(0,"rgba(0, 0, 0, 1)"),gradient.addColorStop(1,"rgba(180, 215, 255, 0)"),chartOptions.scales.yAxes[0].ticks.stepSize=Math.max.apply(Math,_toConsumableArray(DATA.values))/5,window["chart_".concat(el.getAttribute("data-chart"))]=new Chart(chartElement,{type:"line",data:{labels:DATA.labels,datasets:[{backgroundColor:gradient,pointBackgroundColor:"#9DAFC1",pointHoverRadius:0,data:DATA.values,borderColor:"#0177FC"}]},options:chartOptions})})),$(".profit__tabs-content.js-tab-content").not('[data-tab="1"]').hide(0),$(".js-reliable-term").on("change",(function(e){$(".reliable__table-inner").hide(0),$('.reliable__table-inner[data-table="'.concat($(e.currentTarget).val(),'"]')).css("display","inline-block").hide(0).fadeIn(300)})),$(".js-tournament").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("data-tournament");$(".tournaments__select-item--active").removeClass("tournaments__select-item--active"),t.addClass("tournaments__select-item--active"),$(".js-tournament-table").hide(0),$('.js-tournament-table[data-tournament="'.concat(a,'"]')).fadeIn(300)})),$(".shop__categories-item").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("data-grid");$(".shop__categories-item--active").removeClass("shop__categories-item--active"),t.addClass("shop__categories-item--active"),$(".shop__grid").hide(0),$('.shop__grid[data-grid="'.concat(a,'"]')).css("display","flex").hide(0).fadeIn(300)})),$(".shop__item").on("click",(function(e){e.preventDefault(),$(".shop__popup").hide(0),$(window).innerWidth()<1200?($(".shop__item").fadeIn(300),$(e.currentTarget).next().fadeIn(300),$(e.currentTarget).hide(0)):$(e.currentTarget).next().slideDown(300),setTimeout((function(){$(e.currentTarget).next().find(".shop__popup-close").fadeIn(300)}),300)})),$(".shop__popup-close").on("click",(function(e){$(e.currentTarget).hide(0),$(e.currentTarget).parent().hide(0),$(window).innerWidth()<1200&&(console.log($(e.currentTarget).parent().prev()),$(e.currentTarget).parent().prev().fadeIn(300))})),$(".shop__popup-gallery-thumbnail").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("style");$(".shop__popup-gallery-thumbnail--active").removeClass("shop__popup-gallery-thumbnail--active"),t.addClass("shop__popup-gallery-thumbnail--active"),t.closest(".shop__popup-gallery").find(".shop__popup-gallery-image").attr("style",a)})),setInterval((function(){var e=$(".js-slide:eq(0)");e.appendTo(".awaits__slider"),e.addClass("awaits__slide--hide"),$(".awaits__text").text($(".awaits__slider-inner .js-slide:eq(0)").attr("data-text")),setTimeout((function(){e.removeClass("awaits__slide--hide"),e.appendTo(".awaits__slider-inner"),e.addClass("awaits__slide--show"),setTimeout((function(){e.removeClass("awaits__slide--show")}),500)}),500)}),5e3),$(".faq__item-head").on("click",(function(e){var t=$(e.currentTarget);$(".faq__item-content").slideUp(300),$(".faq__inner-head--active").click(),t.hasClass("faq__item-head--active")?t.removeClass("faq__item-head--active"):($(".faq__item-head--active").removeClass("faq__item-head--active"),t.addClass("faq__item-head--active"),t.parent().find(".faq__item-content").slideDown(300))})),$(".faq__inner-head").on("click",(function(e){var t=$(e.currentTarget);$(".faq__inner-content").slideUp(300),t.hasClass("faq__inner-head--active")?t.removeClass("faq__inner-head--active"):($(".faq__inner-head--active").removeClass("faq__inner-head--active"),t.addClass("faq__inner-head--active"),t.parent().find(".faq__inner-content").slideDown(300))})),$('.login__buttons-signin[type="submit"]').on("click",(function(e){e.preventDefault(),$(e.currentTarget).closest(".login__form").find(".login__form-error").fadeIn(300),$(".login__success").slideDown()})),$('.login__buttons-signup[type="submit"]').on("click",(function(e){e.preventDefault(),$(e.currentTarget).closest(".login__form").find(".login__form-error").fadeIn(300),$(".login__error").slideDown()})),$("a.login__buttons-signup").on("click",(function(){$(".login__form").hide(0),$('.login__form[data-form="signup"]').fadeIn(300)})),$("a.login__buttons-signin").on("click",(function(){$(".login__form").hide(0),$('.login__form[data-form="login"]').fadeIn(300)}))};
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbW1vbi5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJvbmxvYWQiLCJsaWdodF90aGVtZSIsIi0tYmctcHJpbWFyeSIsIi0tYmctc2Vjb25kYXJ5IiwiLS10ZXh0LXByaW1hcnkiLCItLXRleHQtc2Vjb25kYXJ5IiwiLS10ZXh0LXRlcnRpYXJ5IiwiZGFya190aGVtZSIsInNldFRoZW1lIiwidGhlbWUiLCJ0aGVtZU5hbWUiLCJuYW1lIiwiZG9jdW1lbnQiLCJkb2N1bWVudEVsZW1lbnQiLCJzdHlsZSIsInNldFByb3BlcnR5IiwiY3NzVmFycyIsInZhcmlhYmxlcyIsIiQiLCJhZGRDbGFzcyIsImxvY2FsU3RvcmFnZSIsInNldEl0ZW0iLCJnZXRJdGVtIiwibWF0Y2hNZWRpYSIsIm1hdGNoZXMiLCJhcHBlYXJDaGVjayIsImlubmVyV2lkdGgiLCJzY3JvbGxUb3AiLCJpbm5lckhlaWdodCIsImVsIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwidG9wIiwic2V0VGltZW91dCIsInJlbW92ZUNsYXNzIiwiYXR0ciIsInNjcmVlbkJvdHRvbSIsImUiLCJ0YXJnZXQiLCIkdGhpcyIsImhhc0NsYXNzIiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwicGFyZW50IiwiZmluZCIsImhpZGUiLCJjdXJyZW50VGFyZ2V0IiwiY29uY2F0IiwiZmFkZUluIiwiUmVsbGF4IiwiZWFjaCIsImkiLCJtaW5pbXVtUmVzdWx0c0ZvclNlYXJjaCIsInJlbW92ZSIsImhpZGVPdmVyZmxvdyIsImJvZHkiLCJjc3NUZXh0IiwidG9wT2Zmc2V0Iiwic2hvd092ZXJmbG93Iiwic2Nyb2xsVG8iLCJvbiIsInRvZ2dsZUNsYXNzIiwic2xpZGVUb2dnbGUiLCJsZW5ndGgiLCJzbGlkZVVwIiwiZWxzZUNvZWZmIiwiZWxzZVByaWNlIiwiZ2NDb2VmZiIsInRlcm0iLCJ0cmFmaWMiLCJjb2VmZiIsInByaWNlIiwicGFyc2VJbnQiLCIkdGFiQ29udGVudCIsImNsb3Nlc3QiLCJpb25SYW5nZVNsaWRlciIsInR5cGUiLCJtYXgiLCJtaW4iLCJmcm9tIiwic3RlcCIsImRhdGEiLCJpbnB1dCIsInZhbHVlIiwiZ2V0UHJvZml0IiwidmFsIiwiZ2NQcmljZSIsInRleHQiLCJKU09OIiwicGFyc2UiLCJkZWNsaW5lIiwib25DaGFuZ2UiLCJwcm9maXQiLCJkYXRhc2V0IiwicHVzaCIsImNoYXJ0X2djIiwiY2hhcnQiLCJkYXRhc2V0cyIsInVwZGF0ZSIsImNoYXJ0X2Vsc2UiLCJ2YWx1ZXMiLCJjaGFydHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiR0NfREFUQSIsImxhYmVscyIsIkVMU0VfREFUQSIsImxlZ2VuZCIsImRpc3BsYXkiLCJyYWRpdXMiLCJlbGVtZW50cyIsImJhY2tncm91bmRDb2xvciIsIm1vZGUiLCJpbnRlcnNlY3QiLCJ0b29sdGlwcyIsInRvb2x0aXBNb2RlbCIsImVuYWJsZWQiLCJnZXRFbGVtZW50QnlJZCIsInRvb2x0aXBFbCIsImNyZWF0ZUVsZW1lbnQiLCJpbm5lckhUTUwiLCJhcHBlbmRDaGlsZCIsIm9wYWNpdHkiLCJjbGFzc0xpc3QiLCJ5QWxpZ24iLCJ0aXRsZSIsImJvZHlMaW5lcyIsIm1hcCIsImJvZHlJdGVtIiwibGluZXMiLCJ0aXRsZUxpbmVzIiwiaW5uZXJIdG1sIiwicG9zaXRpb24iLCJ0aGlzIiwiX2NoYXJ0IiwiY2FudmFzIiwibGVmdCIsInBhZ2VZT2Zmc2V0IiwiY2FyZXRZIiwiZm9udEZhbWlseSIsIl9ib2R5Rm9udEZhbWlseSIsImJvZHlGb250U2l6ZSIsIl9ib2R5Rm9udFN0eWxlIiwieVBhZGRpbmciLCJwb2ludGVyRXZlbnRzIiwieFBhZGRpbmciLCJ5QXhlcyIsImdyaWRMaW5lcyIsInplcm9MaW5lQ29sb3IiLCJjb2xvciIsImRyYXdCb3JkZXIiLCJiZWdpbkF0WmVybyIsImZvbnRDb2xvciIsImZvbnRTaXplIiwicGFkZGluZyIsInN0ZXBTaXplIiwiYXV0b1NraXAiLCJtYXhSb3RhdGlvbiIsIm1pblJvdGF0aW9uIiwiQXJyYXkiLCJnZXRBdHRyaWJ1dGUiLCJEQVRBIiwiZ2V0Q29udGV4dCIsInRvVXBwZXJDYXNlIiwiY2hhcnRPcHRpb25zIiwib3B0aW9ucyIsImdyYWRpZW50IiwiY2hhcnRFbGVtZW50IiwiYWRkQ29sb3JTdG9wIiwiY3JlYXRlTGluZWFyR3JhZGllbnQiLCJzY2FsZXMiLCJ0aWNrcyIsIk1hdGgiLCJhcHBseSIsIl90b0NvbnN1bWFibGVBcnJheSIsIkNoYXJ0IiwicG9pbnRCYWNrZ3JvdW5kQ29sb3IiLCJwb2ludEhvdmVyUmFkaXVzIiwiYm9yZGVyQ29sb3IiLCJub3QiLCJjc3MiLCJwcmV2ZW50RGVmYXVsdCIsIm5leHQiLCJzbGlkZURvd24iLCJzZXRJbnRlcnZhbCIsInByZXYiLCIkY3VycmVudFNsaWRlIiwiYXBwZW5kVG8iLCJjbGljayJdLCJtYXBwaW5ncyI6IjY5QkFBQUEsT0FBT0MsT0FBUyxXQUVkLElBQU1DLFlBQWMsQ0FDcEJDLGVBQWdCLFVBQ2hCQyxpQkFBa0IsVUFDbEJDLGlCQUFrQixVQUNsQkMsbUJBQW9CLFVBQ3BCQyxrQkFBbUIsV0FHZkMsV0FBYSxDQUNqQkwsZUFBZ0IsVUFDaEJDLGlCQUFrQixVQUNsQkMsaUJBQWtCLFVBYnBCTCxtQkFBZ0IsVUFFZE8sa0JBQW9CLFdBR3BCRSxTQUFBLFNBQUFDLEVBQWtCQyxHQUNsQixJQUFBLElBQUFDLEtBQUFGLEVBQ0FHLFNBQUFDLGdCQUFtQkMsTUFBQUMsWUFBQUosRUFBQUYsRUFBQUUsSUFJbkJLLFFBQUEsQ0FDQUMsVUFBQVIsSUFHQSxTQUFBQyxHQUxGUSxFQUFBLFFBQUFDLFNBQUEsY0FtQklELEVBQUUsMkJBQTJCQyxTQUFTLGtDQVZ4Q0QsRUFBQSxRQUFTUCxZQUFULGNBQ0VDLEVBQUFBLDJCQUF5QkUsWUFBTUMsaUNBR3pCLGFBQVJDLEdBQVFJLGFBQUFDLFFBQUEsUUFBQVgsSUFlNEIsU0FBbENVLGFBQWFFLFFBQVEsU0FYdkJkLFNBQUlFLFdBQWMsUUFDaEIsVUFBRVUsYUFBRkUsUUFBbUIsU0FDbkJKLFNBQUVqQixZQUFBLFNBRUZpQixP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QUFBLDJCQUVDZixFQUFBLDJCQUFBZSxZQUF5Q3lCLDBCQUMzQ3RCLEVBQUU4SSxTQUFBQSwwQkFFRjVJLEVBQU1BLFNBQVdJLEtBQUNFLHNCQUFsQndJLFVBQUEsU0FNRmxLLEVBQUFBLG9CQUFFd0MsR0FBQSxTQUFBLFNBQUF0QixHQUNBQSxJQUFFOEksRUFBQUEsRUFBQUEsRUFBRnRJLGVBSUFOLEVBQUFBLHVCQUFjd0IsUUFBZ0JwQixLQUxoQ0osRUFBQUMsU0FBQSwyQkFTRUQsRUFBQUwsWUFBQSw0QkFFQWYsRUFBRSw0QkFBQWUsWUFBb0NhLDJCQUZ4Q1IsRUFBQW5CLFNBQUEsMkJBS0VtQixFQUFBRyxTQUFBQyxLQUFBLHVCQUF1QzBJLFVBQU0sU0FHOUNsSyxFQUhELHlDQUFBd0MsR0FBQSxTQUFBLFNBQUF0QixHQWpmQUEsRUFBQThJLGlCQTZkZ0JoSyxFQUFFa0IsRUFBRVEsZUFFWjRCLFFBQVEsZ0JBQWdCOUIsS0FBSyxzQkFBc0JJLE9BQU8sS0FDaEU1QixFQUFFLG1CQUFtQmtLLGVBR3ZCbEssRUFBRSx5Q0FBeUN3QyxHQUFHLFNBQVMsU0FBQXRCLEdBQ3JEQSxFQUFFOEksaUJBRVloSyxFQUFFa0IsRUFBRVEsZUFFWjRCLFFBQVEsZ0JBQWdCOUIsS0FBSyxzQkFBc0JJLE9BQU8sS0FDaEU1QixFQUFFLGlCQUFpQmtLLGVBR3JCbEssRUFBRSwyQkFBMkJ3QyxHQUFHLFNBQVMsV0FDdkN4QyxFQUFFLGdCQUFnQnlCLEtBQUssR0FDdkJ6QixFQUFFLG9DQUFvQzRCLE9BQU8sUUFHL0M1QixFQUFFLDJCQUEyQndDLEdBQUcsU0FBUyxXQUN2Q3hDLEVBQUUsZ0JBQWdCeUIsS0FBSyxHQUN2QnpCLEVBQUUsbUNBQW1DNEIsT0FBTyIsImZpbGUiOiJjb21tb24ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsid2luZG93Lm9ubG9hZCA9ICgpID0+IHtcblxuICBjb25zdCBsaWdodF90aGVtZSA9IHtcbiAgJy0tYmctcHJpbWFyeSc6ICcjRjBGMEYwJyxcbiAgJy0tYmctc2Vjb25kYXJ5JzogJyNFMEU2RUYnLFxuICAnLS10ZXh0LXByaW1hcnknOiAnIzBFMkI0OScsXG4gICctLXRleHQtc2Vjb25kYXJ5JzogJyM3NDg3OTknLFxuICAnLS10ZXh0LXRlcnRpYXJ5JzogJyM3NDg2OTknXG59O1xuXG5jb25zdCBkYXJrX3RoZW1lID0ge1xuICAnLS1iZy1wcmltYXJ5JzogJyMwMzBEMTgnLFxuICAnLS1iZy1zZWNvbmRhcnknOiAnIzAzMTEyMCcsXG4gICctLXRleHQtcHJpbWFyeSc6ICcjRTBFNkVGJyxcbiAgJy0tdGV4dC1zZWNvbmRhcnknOiAnIzlEQUZDMScsXG4gICctLXRleHQtdGVydGlhcnknOiAnIzQxNEU1Qidcbn07XG5cbmNvbnN0IHNldFRoZW1lID0gKHRoZW1lLCB0aGVtZU5hbWUpID0+IHtcbiAgZm9yICh2YXIgbmFtZSBpbiB0aGVtZSkge1xuICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5zZXRQcm9wZXJ0eShuYW1lLCB0aGVtZVtuYW1lXSk7XG4gIH1cblxuICBjc3NWYXJzKHtcbiAgICB2YXJpYWJsZXM6IHRoZW1lXG4gIH0pO1xuXG4gIGlmICh0aGVtZU5hbWUgPT09ICdkYXJrJykge1xuICAgICQoJ2JvZHknKS5hZGRDbGFzcygnZGFyay10aGVtZScpO1xuICAgICQoJy5oZWFkZXJfX3RoZW1lLXN3aXRjaGVyJykuYWRkQ2xhc3MoJ2hlYWRlcl9fdGhlbWUtc3dpdGNoZXItLWRhcmsnKTtcbiAgfSBlbHNlIHtcbiAgICAkKCdib2R5JykucmVtb3ZlQ2xhc3MoJ2RhcmstdGhlbWUnKTtcbiAgICAkKCcuaGVhZGVyX190aGVtZS1zd2l0Y2hlcicpLnJlbW92ZUNsYXNzKCdoZWFkZXJfX3RoZW1lLXN3aXRjaGVyLS1kYXJrJyk7XG4gIH1cblxuICB0aGVtZU5hbWUgIT0gJ3VuZGVmaW5lZCcgJiYgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lJywgdGhlbWVOYW1lKTtcbn07XG5cbmlmIChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUnKSA9PT0gJ2RhcmsnKSB7XG4gIHNldFRoZW1lKGRhcmtfdGhlbWUsICdkYXJrJyk7XG59IGVsc2UgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKCd0aGVtZScpID09PSAnbGlnaHQnKSB7XG4gIHNldFRoZW1lKGxpZ2h0X3RoZW1lLCAnbGlnaHQnKTtcbn0gZWxzZSB7XG4gIGlmICh3aW5kb3cubWF0Y2hNZWRpYSAmJiB3aW5kb3cubWF0Y2hNZWRpYSgnKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKScpLm1hdGNoZXMpIHtcbiAgICBzZXRUaGVtZShkYXJrX3RoZW1lLCAnZGFyaycpO1xuICB9IGVsc2Uge1xuICAgIHNldFRoZW1lKGxpZ2h0X3RoZW1lLCAnbGlnaHQnKTtcbiAgfVxufVxuICBjb25zdCBhcHBlYXJDaGVjayA9ICgpID0+IHtcbiAgY29uc3Qgc2NyZWVuQm90dG9tID0gJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA+PSAxMjAwID8gJCh3aW5kb3cpLnNjcm9sbFRvcCgpICsgJCh3aW5kb3cpLmlubmVySGVpZ2h0KCkgOiAkKHdpbmRvdykuc2Nyb2xsVG9wKCkgKyAkKHdpbmRvdykuaW5uZXJIZWlnaHQoKSAqIDEuMjtcbiAgXG4gICQoJy5qcy1hcHBlYXInKS5lYWNoKChpLCBlbCkgPT4ge1xuICAgIGlmIChzY3JlZW5Cb3R0b20gLSAkKGVsKS5pbm5lckhlaWdodCgpID4gZWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wICsgJCh3aW5kb3cpLnNjcm9sbFRvcCgpKSB7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgJChlbCkucmVtb3ZlQ2xhc3MoJ2pzLWFwcGVhcicpO1xuICAgICAgfSwgJCh3aW5kb3cpLmlubmVyV2lkdGgoKSA+PSAxMjAwID8gJChlbCkuYXR0cignZGF0YS1kZWxheScpIDogMCk7XG4gICAgfVxuICB9KTtcbn07XG5cbmFwcGVhckNoZWNrKCk7XG5cbiQod2luZG93KS5vbignc2Nyb2xsJywgKCkgPT4ge1xuICByZXF1ZXN0QW5pbWF0aW9uRnJhbWUoYXBwZWFyQ2hlY2spO1xufSk7XG4gICQoJy5qcy10YWInKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtdGFiJyk7XG5cbiAgaWYgKCR0aGlzLmhhc0NsYXNzKCdwcm9maXRfX3RhYnMtaXRlbScpKSB7XG4gICAgJCgnLnByb2ZpdF9fdGFicy1pdGVtLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygncHJvZml0X190YWJzLWl0ZW0tLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCdwcm9maXRfX3RhYnMtaXRlbS0tYWN0aXZlJyk7XG4gIH0gaWYgKCR0aGlzLmhhc0NsYXNzKCd3aW5uZXJzX190YWJzLWl0ZW0nKSkge1xuICAgICQoJy53aW5uZXJzX190YWJzLWl0ZW0tLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCd3aW5uZXJzX190YWJzLWl0ZW0tLWFjdGl2ZScpO1xuICAgICR0aGlzLmFkZENsYXNzKCd3aW5uZXJzX190YWJzLWl0ZW0tLWFjdGl2ZScpO1xuICB9XG4gICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoJy5qcy10YWItY29udGVudCcpLmhpZGUoMCk7XG4gICR0aGlzLnBhcmVudCgpLnBhcmVudCgpLmZpbmQoYC5qcy10YWItY29udGVudFtkYXRhLXRhYj1cIiR7dGFyZ2V0fVwiXWApLmZhZGVJbigzMDApO1xufSk7XG4gIG5ldyBSZWxsYXgoJy5qcy1wYXJhbGxheCcpO1xuICBcbiAgJCgnLmpzLXNlbGVjdCcpLmVhY2goKGksIGVsKSA9PiB7XG4gICQoZWwpLnNlbGVjdDIoe1xuICAgIG1pbmltdW1SZXN1bHRzRm9yU2VhcmNoOiAtMVxuICB9KTtcbn0pO1xuXG4gICQoJy5qcy1sb2dvJykuYWRkQ2xhc3MoJ3ByZWxvYWRlcl9fbG9nby0tYW5pbWF0ZWQnKTtcblxuc2V0VGltZW91dCgoKSA9PiB7XG4gICQoJy5qcy1wcmVsb2FkZXInKS5jc3MoJ29wYWNpdHknLCAnMCcpO1xuXG4gIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICQoJy5qcy1wcmVsb2FkZXInKS5yZW1vdmUoKTtcbiAgfSwgNTAwKTtcbn0sIDEwMDApO1xuICBsZXQgdG9wT2Zmc2V0ID0gMDtcblxuY29uc3QgaGlkZU92ZXJmbG93ID0gKCkgPT4ge1xuICB0b3BPZmZzZXQgPSB3aW5kb3cuc2Nyb2xsWTtcblxuICBkb2N1bWVudC5ib2R5LnN0eWxlLmNzc1RleHQgPSBgcG9zaXRpb246IGZpeGVkOyBtYXJnaW4tdG9wOiAkey10b3BPZmZzZXR9cHg7YDtcbn07XG5cbmNvbnN0IHNob3dPdmVyZmxvdyA9ICgpID0+IHtcbiAgZG9jdW1lbnQuYm9keS5zdHlsZS5jc3NUZXh0ID0gJ3Bvc2l0aW9uOiBzdGF0aWM7IG1hcmdpbi10b3A6IDA7JztcblxuICB3aW5kb3cuc2Nyb2xsVG8oMCwgdG9wT2Zmc2V0KTtcbn07XG5cbiQoJy5qcy10aGVtZScpLm9uKCdjbGljaycsICgpID0+IHtcbiAgaWYgKCQoJ2JvZHknKS5oYXNDbGFzcygnZGFyay10aGVtZScpKSB7XG4gICAgc2V0VGhlbWUobGlnaHRfdGhlbWUsICdsaWdodCcpO1xuICB9IGVsc2Uge1xuICAgIHNldFRoZW1lKGRhcmtfdGhlbWUsICdkYXJrJyk7XG4gIH1cbn0pO1xuXG4kKCcuanMtYnVyZ2VyJykub24oJ2NsaWNrJywgZSA9PiB7XG4gICQoZS5jdXJyZW50VGFyZ2V0KS50b2dnbGVDbGFzcygnaGVhZGVyX19idXJnZXItLWFjdGl2ZScpO1xuICAkKCcuaGVhZGVyX19tZW51JykudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fbWVudS0tYWN0aXZlJyk7XG5cbiAgaWYgKCQoZS5jdXJyZW50VGFyZ2V0KS5oYXNDbGFzcygnaGVhZGVyX19idXJnZXItLWFjdGl2ZScpKSB7XG4gICAgaGlkZU92ZXJmbG93KCk7XG4gIH0gZWxzZSB7XG4gICAgc2hvd092ZXJmbG93KCk7XG4gIH1cbn0pO1xuXG4kKCcuaGVhZGVyX191c2VyJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gIGlmICghJHRoaXMuaGFzQ2xhc3MoJ2hlYWRlcl9fdXNlci0tc2hvd24nKSkge1xuICAgICR0aGlzLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX3VzZXItLXNob3duJyk7XG4gICAgJHRoaXMuZmluZCgnLmhlYWRlcl9fdXNlci1zdWInKS5zbGlkZVRvZ2dsZSgzMDApO1xuICB9XG59KTtcblxuJChkb2N1bWVudCkub24oJ2NsaWNrJywgZSA9PiB7XG5cdGlmKCEkKGUudGFyZ2V0KS5jbG9zZXN0KCcuaGVhZGVyX191c2VyJykubGVuZ3RoKSB7XG4gICAgJCgnLmhlYWRlcl9fdXNlci1zdWInKS5zbGlkZVVwKCk7XG4gICAgaWYgKCQoJy5oZWFkZXJfX3VzZXItLXNob3duJykubGVuZ3RoKSB7XG4gICAgICAkKCcuaGVhZGVyX191c2VyJykudG9nZ2xlQ2xhc3MoJ2hlYWRlcl9fdXNlci0tc2hvd24nKTtcbiAgICB9XG5cdH1cbn0pO1xuXG4kKCcuaGVhZGVyX191c2VyLWxhbmd1YWdlJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICR0aGlzLnRvZ2dsZUNsYXNzKCdoZWFkZXJfX3VzZXItbGFuZ3VhZ2UtLXRvZ2dsZWQnKTtcbiAgJCgnLmhlYWRlcl9fdXNlci1sYW5ndWFnZTpsYXN0LWNoaWxkJykuc2xpZGVUb2dnbGUoMzAwKTtcbn0pO1xuICBjb25zdCBnY0NvZWZmID0gMTtcbmNvbnN0IGdjUHJpY2UgPSA1O1xuY29uc3QgZWxzZUNvZWZmID0gMC4zNTtcbmNvbnN0IGVsc2VQcmljZSA9IDE7XG5jb25zdCBnZXRQcm9maXQgPSAodGVybSwgdHJhZmljLCBjb2VmZiwgcHJpY2UpID0+IHBhcnNlSW50KHRlcm0gKiB0cmFmaWMgKiBjb2VmZiAqIHByaWNlKTtcblxuJCgnLmpzLXJhbmdlJykuZWFjaCgoaSwgZWwpID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGVsKTtcbiAgY29uc3QgJHRhYkNvbnRlbnQgPSAkdGhpcy5jbG9zZXN0KCcuanMtdGFiLWNvbnRlbnQnKTtcblxuICAkdGhpcy5pb25SYW5nZVNsaWRlcih7XG4gICAgdHlwZTogJ3NpbmdsZScsXG4gICAgbWF4OiAkdGhpcy5hdHRyKCdkYXRhLW1heCcpLFxuICAgIG1pbjogJHRoaXMuYXR0cignZGF0YS1taW4nKSxcbiAgICBmcm9tOiAkdGhpcy5hdHRyKCd2YWx1ZScpLFxuICAgIHN0ZXA6IDEsXG4gICAgb25DaGFuZ2U6IGRhdGEgPT4ge1xuICAgICAgaWYgKCQoJy5qcy10YWJbZGF0YS10YWI9XCIxXCJdJykuaGFzQ2xhc3MoJ3Byb2ZpdF9fdGFicy1pdGVtLS1hY3RpdmUnKSkge1xuICAgICAgICBjb25zdCB2YWwgPSArZGF0YS5pbnB1dFswXS52YWx1ZTtcbiAgICAgICAgY29uc3QgcHJvZml0ID0gZ2V0UHJvZml0KCR0YWJDb250ZW50LmZpbmQoJy5qcy1yYW5nZVtuYW1lPVwidGVybVwiXScpLnZhbCgpLCAkdGFiQ29udGVudC5maW5kKCcuanMtcmFuZ2VbbmFtZT1cInRyYWZpY1wiXScpLnZhbCgpLCBnY0NvZWZmLCBnY1ByaWNlKTtcbiAgXG4gICAgICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5qcy1yYW5nZS12YWx1ZScpLnRleHQoSlNPTi5wYXJzZSgkdGhpcy5hdHRyKCdkYXRhLWtleXMnKSkuZGVjbGluZSh2YWwsIHRydWUpKTtcbiAgICAgICAgJHRhYkNvbnRlbnQuZmluZCgnLmpzLXByb2ZpdCcpLnRleHQocHJvZml0KTtcblxuICAgICAgICBpZiAoJHRoaXMuYXR0cignbmFtZScpID09PSAndHJhZmljJykge1xuICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBbXTtcbiAgXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTI7IGkrKykge1xuICAgICAgICAgICAgZGF0YXNldC5wdXNoKGdldFByb2ZpdChpLCB2YWwsIGdjQ29lZmYsIGdjUHJpY2UpKTtcbiAgICAgICAgICB9XG4gIFxuICAgICAgICAgIGNoYXJ0X2djLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YSA9IGRhdGFzZXQ7XG4gICAgICAgICAgY2hhcnRfZ2MudXBkYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHZhbCA9ICtkYXRhLmlucHV0WzBdLnZhbHVlO1xuICAgICAgICBjb25zdCBwcm9maXQgPSBnZXRQcm9maXQoJHRhYkNvbnRlbnQuZmluZCgnLmpzLXJhbmdlW25hbWU9XCJ0ZXJtXCJdJykudmFsKCksICR0YWJDb250ZW50LmZpbmQoJy5qcy1yYW5nZVtuYW1lPVwidHJhZmljXCJdJykudmFsKCksIGVsc2VDb2VmZiwgZWxzZVByaWNlKTtcbiAgXG4gICAgICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5qcy1yYW5nZS12YWx1ZScpLnRleHQoSlNPTi5wYXJzZSgkdGhpcy5hdHRyKCdkYXRhLWtleXMnKSkuZGVjbGluZSh2YWwsIHRydWUpKTtcbiAgICAgICAgJHRhYkNvbnRlbnQuZmluZCgnLmpzLXByb2ZpdCcpLnRleHQocHJvZml0KTtcblxuICAgICAgICBpZiAoJHRoaXMuYXR0cignbmFtZScpID09PSAndHJhZmljJykge1xuICAgICAgICAgIGNvbnN0IGRhdGFzZXQgPSBbXTtcbiAgXG4gICAgICAgICAgZm9yIChsZXQgaSA9IDE7IGkgPD0gMTI7IGkrKykge1xuICAgICAgICAgICAgZGF0YXNldC5wdXNoKGdldFByb2ZpdChpLCB2YWwsIGVsc2VDb2VmZiwgZWxzZVByaWNlKSk7XG4gICAgICAgICAgfVxuICBcbiAgICAgICAgICBjaGFydF9lbHNlLmNoYXJ0LmRhdGEuZGF0YXNldHNbMF0uZGF0YSA9IGRhdGFzZXQ7XG4gICAgICAgICAgY2hhcnRfZWxzZS51cGRhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxuY29uc3QgY2hhcnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmpzLWNoYXJ0Jyk7XG5cbmNvbnN0IEdDX0RBVEEgPSB7XG4gIGxhYmVsczogWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCcsICcxMScsICcxMiddLFxuICB2YWx1ZXM6IFtdXG59O1xuXG5jb25zdCBFTFNFX0RBVEEgPSB7XG4gIGxhYmVsczogWycxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICcxMCcsICcxMScsICcxMiddLFxuICB2YWx1ZXM6IFtdXG59O1xuXG5mb3IgKGxldCBpID0gMTsgaSA8PSAxMjsgaSsrKSB7XG4gIEdDX0RBVEEudmFsdWVzLnB1c2goZ2V0UHJvZml0KGksIDEwMDAsIGdjQ29lZmYsIGdjUHJpY2UpKTtcbiAgRUxTRV9EQVRBLnZhbHVlcy5wdXNoKGdldFByb2ZpdChpLCAxMDAwLCBlbHNlQ29lZmYsIGVsc2VQcmljZSkpO1xufVxuXG5jb25zdCBvcHRpb25zID0ge1xuICBsZWdlbmQ6IHtcbiAgICAgIGRpc3BsYXk6IGZhbHNlXG4gIH0sXG4gIGVsZW1lbnRzOiB7XG4gICAgcG9pbnQ6IHtcbiAgICAgIHJhZGl1czogMCxcbiAgICAgIGJhY2tncm91bmRDb2xvcjogJyMwMDkwRkYnXG4gICAgfVxuICB9LFxuICBob3Zlcjoge1xuICAgIG1vZGU6ICdpbmRleCcsXG4gICAgaW50ZXJzZWN0OiBmYWxzZVxuICB9LFxuICB0b29sdGlwczoge1xuICAgIG1vZGU6ICdpbmRleCcsXG4gICAgaW50ZXJzZWN0OiBmYWxzZSxcbiAgICBlbmFibGVkOiBmYWxzZSxcbiAgICBjdXN0b206IGZ1bmN0aW9uKHRvb2x0aXBNb2RlbCkge1xuICAgICAgLy8gVG9vbHRpcCBFbGVtZW50XG4gICAgICB2YXIgdG9vbHRpcEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXJ0anMtdG9vbHRpcCcpO1xuXG4gICAgICAvLyBDcmVhdGUgZWxlbWVudCBvbiBmaXJzdCByZW5kZXJcbiAgICAgIGlmICghdG9vbHRpcEVsKSB7XG4gICAgICAgICAgdG9vbHRpcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgICAgdG9vbHRpcEVsLmlkID0gJ2NoYXJ0anMtdG9vbHRpcCc7XG4gICAgICAgICAgdG9vbHRpcEVsLmlubmVySFRNTCA9ICc8ZGl2PjwvZGl2Pic7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0b29sdGlwRWwpO1xuICAgICAgfVxuXG4gICAgICAvLyBIaWRlIGlmIG5vIHRvb2x0aXBcbiAgICAgIGlmICh0b29sdGlwTW9kZWwub3BhY2l0eSA9PT0gMCkge1xuICAgICAgICAgIHRvb2x0aXBFbC5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCBjYXJldCBQb3NpdGlvblxuICAgICAgdG9vbHRpcEVsLmNsYXNzTGlzdC5yZW1vdmUoJ2Fib3ZlJywgJ2JlbG93JywgJ25vLXRyYW5zZm9ybScpO1xuICAgICAgaWYgKHRvb2x0aXBNb2RlbC55QWxpZ24pIHtcbiAgICAgICAgICB0b29sdGlwRWwuY2xhc3NMaXN0LmFkZCh0b29sdGlwTW9kZWwueUFsaWduKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdG9vbHRpcEVsLmNsYXNzTGlzdC5hZGQoJ25vLXRyYW5zZm9ybScpO1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBnZXRCb2R5KGJvZHlJdGVtKSB7XG4gICAgICAgICAgcmV0dXJuIGJvZHlJdGVtLmxpbmVzO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgVGV4dFxuICAgICAgaWYgKHRvb2x0aXBNb2RlbC5ib2R5KSB7XG4gICAgICAgICAgdmFyIHRpdGxlTGluZXMgPSB0b29sdGlwTW9kZWwudGl0bGUgfHwgW107XG4gICAgICAgICAgdmFyIGJvZHlMaW5lcyA9IHRvb2x0aXBNb2RlbC5ib2R5Lm1hcChnZXRCb2R5KTtcblxuICAgICAgICAgIHZhciBpbm5lckh0bWwgPSAnPGRpdj4nO1xuXG4gICAgICAgICAgYm9keUxpbmVzLmZvckVhY2goZnVuY3Rpb24oYm9keSwgaSkge1xuICAgICAgICAgICAgICBpbm5lckh0bWwgKz0gJzxwPjxzcGFuPiQ8L3NwYW4+JyArIGJvZHkgKyAnL9C80LXRgTwvcD4nO1xuICAgICAgICAgICAgICBpbm5lckh0bWwgKz0gJzxwPicgKyBbXCLQuNCz0YDQvtC6XCIsIFwi0LjQs9GA0L7QutCwXCIsIFwi0LjQs9GA0L7QutC+0LJcIl0uZGVjbGluZSgrJCgnaW5wdXRbbmFtZT1cInRyYWZpY1wiXScpLnZhbCgpLCB0cnVlKSArICc8L3A+JztcbiAgICAgICAgICB9KTtcblxuICAgICAgICAgIGlubmVySHRtbCArPSAnPC9kaXY+JztcblxuICAgICAgICAgIHZhciB0YWJsZVJvb3QgPSB0b29sdGlwRWw7XG4gICAgICAgICAgdGFibGVSb290LmlubmVySFRNTCA9IGlubmVySHRtbDtcbiAgICAgIH1cblxuICAgICAgLy8gYHRoaXNgIHdpbGwgYmUgdGhlIG92ZXJhbGwgdG9vbHRpcFxuICAgICAgdmFyIHBvc2l0aW9uID0gdGhpcy5fY2hhcnQuY2FudmFzLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAvLyBEaXNwbGF5LCBwb3NpdGlvbiwgYW5kIHNldCBzdHlsZXMgZm9yIGZvbnRcbiAgICAgIHRvb2x0aXBFbC5zdHlsZS5vcGFjaXR5ID0gMTtcbiAgICAgIHRvb2x0aXBFbC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICB0b29sdGlwRWwuc3R5bGUubGVmdCA9IHBvc2l0aW9uLmxlZnQgKyB3aW5kb3cucGFnZVhPZmZzZXQgKyB0b29sdGlwTW9kZWwuY2FyZXRYICsgJ3B4JztcbiAgICAgIHRvb2x0aXBFbC5zdHlsZS50b3AgPSBwb3NpdGlvbi50b3AgKyB3aW5kb3cucGFnZVlPZmZzZXQgKyB0b29sdGlwTW9kZWwuY2FyZXRZICsgJ3B4JztcbiAgICAgIHRvb2x0aXBFbC5zdHlsZS5mb250RmFtaWx5ID0gdG9vbHRpcE1vZGVsLl9ib2R5Rm9udEZhbWlseTtcbiAgICAgIHRvb2x0aXBFbC5zdHlsZS5mb250U2l6ZSA9IHRvb2x0aXBNb2RlbC5ib2R5Rm9udFNpemUgKyAncHgnO1xuICAgICAgdG9vbHRpcEVsLnN0eWxlLmZvbnRTdHlsZSA9IHRvb2x0aXBNb2RlbC5fYm9keUZvbnRTdHlsZTtcbiAgICAgIHRvb2x0aXBFbC5zdHlsZS5wYWRkaW5nID0gdG9vbHRpcE1vZGVsLnlQYWRkaW5nICsgJ3B4ICcgKyB0b29sdGlwTW9kZWwueFBhZGRpbmcgKyAncHgnO1xuICAgICAgdG9vbHRpcEVsLnN0eWxlLnBvaW50ZXJFdmVudHMgPSAnbm9uZSc7XG4gICAgfVxuICB9LFxuICBzY2FsZXM6IHtcbiAgICB5QXhlczogW3tcbiAgICAgIGdyaWRMaW5lczoge1xuICAgICAgICB6ZXJvTGluZUNvbG9yOiAncmdiYSgxNTcsIDE3NSwgMTkzLCAwLjIpJyxcbiAgICAgICAgY29sb3I6ICdyZ2JhKDE1NywgMTc1LCAxOTMsIDAuMiknLFxuICAgICAgICBkcmF3Qm9yZGVyOiBmYWxzZVxuICAgICAgfSxcbiAgICAgIHRpY2tzOiB7XG4gICAgICAgIGJlZ2luQXRaZXJvOiB0cnVlLFxuICAgICAgICBmb250Q29sb3I6ICdyZ2JhKDE1NywgMTc1LCAxOTMsIDAuNSknLFxuICAgICAgICBmb250RmFtaWx5OiAnR2lscm95LCBIZWx2ZXRpY2EsIHNhbnMtc2VyaWYnLFxuICAgICAgICBmb250U2l6ZTogMTQsXG4gICAgICAgIHBhZGRpbmc6IHdpbmRvdy5pbm5lcldpZHRoIDwgMTIwMCA/IDUgOiAxMCxcbiAgICAgICAgLy8gc3RlcFNpemU6IE1hdGgubWF4KC4uLlBST0ZJVF9EQVRBLnZhbHVlcykgLyA1XG4gICAgICB9XG4gICAgfV0sXG4gICAgeEF4ZXM6IFt7XG4gICAgICBncmlkTGluZXM6IHtcbiAgICAgICAgZGlzcGxheTogZmFsc2UsXG4gICAgICB9LFxuICAgICAgdGlja3M6IHtcbiAgICAgICAgZm9udENvbG9yOiAnIzk2QTFBRCcsXG4gICAgICAgIGZvbnRGYW1pbHk6ICdHaWxyb3ksIEhlbHZldGljYSwgc2Fucy1zZXJpZicsXG4gICAgICAgIGZvbnRTaXplOiAxNCxcbiAgICAgICAgc3RlcFNpemU6IDcsXG4gICAgICAgIGF1dG9Ta2lwOiBmYWxzZSxcbiAgICAgICAgbWF4Um90YXRpb246IDAsXG4gICAgICAgIG1pblJvdGF0aW9uOiAwXG4gICAgICB9XG4gICAgfV1cbiAgfVxufTtcblxuQXJyYXkuZnJvbShjaGFydHMpLm1hcCgoZWwsIGkpID0+IHtcbiAgY29uc3QgY2hhcnRFbGVtZW50ID0gZWwuZ2V0Q29udGV4dChcIjJkXCIpO1xuICBjb25zdCBpZCA9IGVsLmdldEF0dHJpYnV0ZSgnZGF0YS1jaGFydCcpO1xuICBjb25zdCBEQVRBID0gZXZhbChgJHtpZC50b1VwcGVyQ2FzZSgpfV9EQVRBYCk7XG4gIGNvbnN0IGNoYXJ0T3B0aW9ucyA9IG9wdGlvbnM7XG4gIGNvbnN0IGdyYWRpZW50ID0gY2hhcnRFbGVtZW50LmNyZWF0ZUxpbmVhckdyYWRpZW50KDI2MCwgLTgwLCAzNTAsIDM1MCk7XG4gIGdyYWRpZW50LmFkZENvbG9yU3RvcCgwLCAncmdiYSgwLCAwLCAwLCAxKScpOyAgIFxuICBncmFkaWVudC5hZGRDb2xvclN0b3AoMSwgJ3JnYmEoMTgwLCAyMTUsIDI1NSwgMCknKTsgIFxuXG4gIGNoYXJ0T3B0aW9ucy5zY2FsZXMueUF4ZXNbMF0udGlja3Muc3RlcFNpemUgPSBNYXRoLm1heCguLi5EQVRBLnZhbHVlcykgLyA1XG5cbiAgd2luZG93W2BjaGFydF8ke2VsLmdldEF0dHJpYnV0ZSgnZGF0YS1jaGFydCcpfWBdID0gbmV3IENoYXJ0KGNoYXJ0RWxlbWVudCwge1xuICAgIHR5cGU6ICdsaW5lJyxcbiAgICBkYXRhOiB7XG4gICAgICBsYWJlbHM6IERBVEEubGFiZWxzLFxuICAgICAgZGF0YXNldHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGJhY2tncm91bmRDb2xvcjogZ3JhZGllbnQsXG4gICAgICAgICAgcG9pbnRCYWNrZ3JvdW5kQ29sb3I6ICcjOURBRkMxJyxcbiAgICAgICAgICBwb2ludEhvdmVyUmFkaXVzOiAwLFxuICAgICAgICAgIGRhdGE6IERBVEEudmFsdWVzLFxuICAgICAgICAgIGJvcmRlckNvbG9yOiAnIzAxNzdGQydcbiAgICAgICAgfVxuICAgICAgXVxuICAgIH0sXG4gICAgb3B0aW9uczogY2hhcnRPcHRpb25zXG4gIH0pO1xufSk7XG5cbiQoJy5wcm9maXRfX3RhYnMtY29udGVudC5qcy10YWItY29udGVudCcpLm5vdCgnW2RhdGEtdGFiPVwiMVwiXScpLmhpZGUoMCk7XG4gICQoJy5qcy1yZWxpYWJsZS10ZXJtJykub24oJ2NoYW5nZScsIGUgPT4ge1xuICAkKCcucmVsaWFibGVfX3RhYmxlLWlubmVyJykuaGlkZSgwKTtcbiAgJChgLnJlbGlhYmxlX190YWJsZS1pbm5lcltkYXRhLXRhYmxlPVwiJHskKGUuY3VycmVudFRhcmdldCkudmFsKCl9XCJdYCkuY3NzKCdkaXNwbGF5JywgJ2lubGluZS1ibG9jaycpLmhpZGUoMCkuZmFkZUluKDMwMCk7XG59KTtcbiAgJCgnLmpzLXRvdXJuYW1lbnQnKS5vbignY2xpY2snLCBlID0+IHtcbiAgY29uc3QgJHRoaXMgPSAkKGUuY3VycmVudFRhcmdldCk7XG4gIGNvbnN0IHRhcmdldCA9ICR0aGlzLmF0dHIoJ2RhdGEtdG91cm5hbWVudCcpO1xuXG4gICQoJy50b3VybmFtZW50c19fc2VsZWN0LWl0ZW0tLWFjdGl2ZScpLnJlbW92ZUNsYXNzKCd0b3VybmFtZW50c19fc2VsZWN0LWl0ZW0tLWFjdGl2ZScpO1xuICAkdGhpcy5hZGRDbGFzcygndG91cm5hbWVudHNfX3NlbGVjdC1pdGVtLS1hY3RpdmUnKTtcbiAgJCgnLmpzLXRvdXJuYW1lbnQtdGFibGUnKS5oaWRlKDApO1xuICAkKGAuanMtdG91cm5hbWVudC10YWJsZVtkYXRhLXRvdXJuYW1lbnQ9XCIke3RhcmdldH1cIl1gKS5mYWRlSW4oMzAwKTtcbn0pO1xuICAkKCcuc2hvcF9fY2F0ZWdvcmllcy1pdGVtJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBjb25zdCB0YXJnZXQgPSAkdGhpcy5hdHRyKCdkYXRhLWdyaWQnKTtcblxuICAkKCcuc2hvcF9fY2F0ZWdvcmllcy1pdGVtLS1hY3RpdmUnKS5yZW1vdmVDbGFzcygnc2hvcF9fY2F0ZWdvcmllcy1pdGVtLS1hY3RpdmUnKTtcbiAgJHRoaXMuYWRkQ2xhc3MoJ3Nob3BfX2NhdGVnb3JpZXMtaXRlbS0tYWN0aXZlJyk7XG5cbiAgJCgnLnNob3BfX2dyaWQnKS5oaWRlKDApO1xuICAkKGAuc2hvcF9fZ3JpZFtkYXRhLWdyaWQ9XCIke3RhcmdldH1cIl1gKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpLmhpZGUoMCkuZmFkZUluKDMwMCk7XG59KTtcblxuJCgnLnNob3BfX2l0ZW0nKS5vbignY2xpY2snLCBlID0+IHtcbiAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAkKCcuc2hvcF9fcG9wdXAnKS5oaWRlKDApO1xuICBcbiAgaWYgKCQod2luZG93KS5pbm5lcldpZHRoKCkgPCAxMjAwKSB7XG4gICAgJCgnLnNob3BfX2l0ZW0nKS5mYWRlSW4oMzAwKTtcbiAgICAkKGUuY3VycmVudFRhcmdldCkubmV4dCgpLmZhZGVJbigzMDApO1xuICAgICQoZS5jdXJyZW50VGFyZ2V0KS5oaWRlKDApO1xuICB9IGVsc2Uge1xuICAgICQoZS5jdXJyZW50VGFyZ2V0KS5uZXh0KCkuc2xpZGVEb3duKDMwMCk7XG4gIH1cblxuICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAkKGUuY3VycmVudFRhcmdldCkubmV4dCgpLmZpbmQoJy5zaG9wX19wb3B1cC1jbG9zZScpLmZhZGVJbigzMDApO1xuICB9LCAzMDApO1xufSk7XG5cbiQoJy5zaG9wX19wb3B1cC1jbG9zZScpLm9uKCdjbGljaycsIGUgPT4ge1xuICAkKGUuY3VycmVudFRhcmdldCkuaGlkZSgwKTtcbiAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLmhpZGUoMCk7XG4gIGlmICgkKHdpbmRvdykuaW5uZXJXaWR0aCgpIDwgMTIwMCkge1xuICAgIGNvbnNvbGUubG9nKCQoZS5jdXJyZW50VGFyZ2V0KS5wYXJlbnQoKS5wcmV2KCkpXG4gICAgJChlLmN1cnJlbnRUYXJnZXQpLnBhcmVudCgpLnByZXYoKS5mYWRlSW4oMzAwKTtcbiAgfVxufSk7XG5cbiQoJy5zaG9wX19wb3B1cC1nYWxsZXJ5LXRodW1ibmFpbCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgY29uc3Qgc3R5bGUgPSAkdGhpcy5hdHRyKCdzdHlsZScpO1xuXG4gICQoJy5zaG9wX19wb3B1cC1nYWxsZXJ5LXRodW1ibmFpbC0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ3Nob3BfX3BvcHVwLWdhbGxlcnktdGh1bWJuYWlsLS1hY3RpdmUnKTtcbiAgJHRoaXMuYWRkQ2xhc3MoJ3Nob3BfX3BvcHVwLWdhbGxlcnktdGh1bWJuYWlsLS1hY3RpdmUnKTtcblxuICAkdGhpcy5jbG9zZXN0KCcuc2hvcF9fcG9wdXAtZ2FsbGVyeScpLmZpbmQoJy5zaG9wX19wb3B1cC1nYWxsZXJ5LWltYWdlJykuYXR0cignc3R5bGUnLCBzdHlsZSk7XG59KTtcbiAgc2V0SW50ZXJ2YWwoKCkgPT4ge1xuICBjb25zdCAkY3VycmVudFNsaWRlID0gJCgnLmpzLXNsaWRlOmVxKDApJyk7XG5cbiAgJGN1cnJlbnRTbGlkZS5hcHBlbmRUbygnLmF3YWl0c19fc2xpZGVyJyk7XG4gICRjdXJyZW50U2xpZGUuYWRkQ2xhc3MoJ2F3YWl0c19fc2xpZGUtLWhpZGUnKTtcbiAgJCgnLmF3YWl0c19fdGV4dCcpLnRleHQoJCgnLmF3YWl0c19fc2xpZGVyLWlubmVyIC5qcy1zbGlkZTplcSgwKScpLmF0dHIoJ2RhdGEtdGV4dCcpKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgJGN1cnJlbnRTbGlkZS5yZW1vdmVDbGFzcygnYXdhaXRzX19zbGlkZS0taGlkZScpXG4gICAgJGN1cnJlbnRTbGlkZS5hcHBlbmRUbygnLmF3YWl0c19fc2xpZGVyLWlubmVyJyk7XG4gICAgJGN1cnJlbnRTbGlkZS5hZGRDbGFzcygnYXdhaXRzX19zbGlkZS0tc2hvdycpO1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgJGN1cnJlbnRTbGlkZS5yZW1vdmVDbGFzcygnYXdhaXRzX19zbGlkZS0tc2hvdycpO1xuICAgIH0sIDUwMCk7XG4gIH0sIDUwMCk7XG59LCA1MDAwKTtcbiAgJCgnLmZhcV9faXRlbS1oZWFkJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuXG4gICQoJy5mYXFfX2l0ZW0tY29udGVudCcpLnNsaWRlVXAoMzAwKTtcblxuICAkKCcuZmFxX19pbm5lci1oZWFkLS1hY3RpdmUnKS5jbGljaygpO1xuICBcbiAgaWYgKCR0aGlzLmhhc0NsYXNzKCdmYXFfX2l0ZW0taGVhZC0tYWN0aXZlJykpIHtcbiAgICAkdGhpcy5yZW1vdmVDbGFzcygnZmFxX19pdGVtLWhlYWQtLWFjdGl2ZScpO1xuICB9IGVsc2Uge1xuICAgICQoJy5mYXFfX2l0ZW0taGVhZC0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2ZhcV9faXRlbS1oZWFkLS1hY3RpdmUnKTtcbiAgICAkdGhpcy5hZGRDbGFzcygnZmFxX19pdGVtLWhlYWQtLWFjdGl2ZScpO1xuICAgICR0aGlzLnBhcmVudCgpLmZpbmQoJy5mYXFfX2l0ZW0tY29udGVudCcpLnNsaWRlRG93bigzMDApO1xuICB9XG59KTtcblxuJCgnLmZhcV9faW5uZXItaGVhZCcpLm9uKCdjbGljaycsIGUgPT4ge1xuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcblxuICAkKCcuZmFxX19pbm5lci1jb250ZW50Jykuc2xpZGVVcCgzMDApO1xuICBcbiAgaWYgKCR0aGlzLmhhc0NsYXNzKCdmYXFfX2lubmVyLWhlYWQtLWFjdGl2ZScpKSB7XG4gICAgJHRoaXMucmVtb3ZlQ2xhc3MoJ2ZhcV9faW5uZXItaGVhZC0tYWN0aXZlJyk7XG4gIH0gZWxzZSB7XG4gICAgJCgnLmZhcV9faW5uZXItaGVhZC0tYWN0aXZlJykucmVtb3ZlQ2xhc3MoJ2ZhcV9faW5uZXItaGVhZC0tYWN0aXZlJyk7XG4gICAgJHRoaXMuYWRkQ2xhc3MoJ2ZhcV9faW5uZXItaGVhZC0tYWN0aXZlJyk7XG4gICAgJHRoaXMucGFyZW50KCkuZmluZCgnLmZhcV9faW5uZXItY29udGVudCcpLnNsaWRlRG93bigzMDApO1xuICB9XG59KTtcbiAgJCgnLmxvZ2luX19idXR0b25zLXNpZ25pblt0eXBlPVwic3VibWl0XCJdJykub24oJ2NsaWNrJywgZSA9PiB7XG4gIGUucHJldmVudERlZmF1bHQoKTtcbiAgXG4gIGNvbnN0ICR0aGlzID0gJChlLmN1cnJlbnRUYXJnZXQpO1xuICBcbiAgJHRoaXMuY2xvc2VzdCgnLmxvZ2luX19mb3JtJykuZmluZCgnLmxvZ2luX19mb3JtLWVycm9yJykuZmFkZUluKDMwMCk7XG4gICQoJy5sb2dpbl9fc3VjY2VzcycpLnNsaWRlRG93bigpO1xufSk7XG5cbiQoJy5sb2dpbl9fYnV0dG9ucy1zaWdudXBbdHlwZT1cInN1Ym1pdFwiXScpLm9uKCdjbGljaycsIGUgPT4ge1xuICBlLnByZXZlbnREZWZhdWx0KCk7XG4gIFxuICBjb25zdCAkdGhpcyA9ICQoZS5jdXJyZW50VGFyZ2V0KTtcbiAgXG4gICR0aGlzLmNsb3Nlc3QoJy5sb2dpbl9fZm9ybScpLmZpbmQoJy5sb2dpbl9fZm9ybS1lcnJvcicpLmZhZGVJbigzMDApO1xuICAkKCcubG9naW5fX2Vycm9yJykuc2xpZGVEb3duKCk7XG59KTtcblxuJCgnYS5sb2dpbl9fYnV0dG9ucy1zaWdudXAnKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICQoJy5sb2dpbl9fZm9ybScpLmhpZGUoMCk7XG4gICQoJy5sb2dpbl9fZm9ybVtkYXRhLWZvcm09XCJzaWdudXBcIl0nKS5mYWRlSW4oMzAwKTtcbn0pO1xuXG4kKCdhLmxvZ2luX19idXR0b25zLXNpZ25pbicpLm9uKCdjbGljaycsICgpID0+IHtcbiAgJCgnLmxvZ2luX19mb3JtJykuaGlkZSgwKTtcbiAgJCgnLmxvZ2luX19mb3JtW2RhdGEtZm9ybT1cImxvZ2luXCJdJykuZmFkZUluKDMwMCk7XG59KTtcblxufSJdfQ==

"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,r=new Array(t);a<t;a++)r[a]=e[a];return r}window.onload=function(){var light_theme={"--bg-primary":"#F0F0F0","--bg-secondary":"#E0E6EF","--text-primary":"#0E2B49","--text-secondary":"#748799","--text-tertiary":"#748699"},dark_theme={"--bg-primary":"#030D18","--bg-secondary":"#031120","--text-primary":"#E0E6EF","--text-secondary":"#9DAFC1","--text-tertiary":"#414E5B"},setTheme=function(e,t){for(var a in e)document.documentElement.style.setProperty(a,e[a]);cssVars({variables:e}),"dark"===t?($("body").addClass("dark-theme"),$(".header__theme-switcher").addClass("header__theme-switcher--dark")):($("body").removeClass("dark-theme"),$(".header__theme-switcher").removeClass("header__theme-switcher--dark")),"undefined"!=t&&localStorage.setItem("theme",t)};"dark"===localStorage.getItem("theme")?setTheme(dark_theme,"dark"):"light"===localStorage.getItem("theme")?setTheme(light_theme,"light"):window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?setTheme(dark_theme,"dark"):setTheme(light_theme,"light");var appearCheck=function(){var e=$(window).innerWidth()>=1200?$(window).scrollTop()+$(window).innerHeight():$(window).scrollTop()+1.2*$(window).innerHeight();$(".js-appear").each((function(t,a){e-$(a).innerHeight()>a.getBoundingClientRect().top+$(window).scrollTop()&&setTimeout((function(){$(a).removeClass("js-appear")}),$(window).innerWidth()>=1200?$(a).attr("data-delay"):0)}))};appearCheck(),$(window).on("scroll",(function(){requestAnimationFrame(appearCheck)})),$(".js-tab").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("data-tab");t.hasClass("profit__tabs-item")&&($(".profit__tabs-item--active").removeClass("profit__tabs-item--active"),t.addClass("profit__tabs-item--active")),t.hasClass("winners__tabs-item")&&($(".winners__tabs-item--active").removeClass("winners__tabs-item--active"),t.addClass("winners__tabs-item--active")),t.parent().parent().find(".js-tab-content").hide(0),t.parent().parent().find('.js-tab-content[data-tab="'.concat(a,'"]')).fadeIn(300)})),new Rellax(".js-parallax"),$(".js-select").each((function(e,t){$(t).select2({minimumResultsForSearch:-1})})),$(".js-logo").addClass("preloader__logo--animated"),setTimeout((function(){$(".js-preloader").css("opacity","0"),setTimeout((function(){$(".js-preloader").remove()}),500)}),1e3);var topOffset=0,hideOverflow=function(){topOffset=window.scrollY,document.body.style.cssText="position: fixed; margin-top: ".concat(-topOffset,"px;")},showOverflow=function(){document.body.style.cssText="position: static; margin-top: 0;",window.scrollTo(0,topOffset)};$(".js-theme").on("click",(function(){$("body").hasClass("dark-theme")?setTheme(light_theme,"light"):setTheme(dark_theme,"dark")})),$(".js-burger").on("click",(function(e){$(e.currentTarget).toggleClass("header__burger--active"),$(".header__menu").toggleClass("header__menu--active"),$(e.currentTarget).hasClass("header__burger--active")?hideOverflow():showOverflow()})),$(".header__user").on("click",(function(e){var t=$(e.currentTarget);t.hasClass("header__user--shown")||(t.toggleClass("header__user--shown"),t.find(".header__user-sub").slideToggle(300))})),$(document).on("click",(function(e){$(e.target).closest(".header__user").length||($(".header__user-sub").slideUp(),$(".header__user--shown").length&&$(".header__user").toggleClass("header__user--shown"))})),$(".header__user-language").on("click",(function(e){$(e.currentTarget).toggleClass("header__user-language--toggled"),$(".header__user-language:last-child").slideToggle(300)}));var gcCoeff=1,gcPrice=5,elseCoeff=.35,elsePrice=1,getProfit=function(e,t,a,r){return parseInt(e*t*a*r)};$(".js-range").each((function(e,t){var a=$(t),r=a.closest(".js-tab-content");a.ionRangeSlider({type:"single",max:a.attr("data-max"),min:a.attr("data-min"),from:a.attr("value"),step:1,onChange:function(e){if($('.js-tab[data-tab="1"]').hasClass("profit__tabs-item--active")){var t=+e.input[0].value,n=getProfit(r.find('.js-range[name="term"]').val(),r.find('.js-range[name="trafic"]').val(),gcCoeff,gcPrice);if(a.parent().find(".js-range-value").text(JSON.parse(a.attr("data-keys")).decline(t,!0)),r.find(".js-profit").text(n),"trafic"===a.attr("name")){for(var i=[],o=1;o<=12;o++)i.push(getProfit(o,t,gcCoeff,gcPrice));chart_gc.chart.data.datasets[0].data=i,chart_gc.update()}}else{var s=+e.input[0].value,l=getProfit(r.find('.js-range[name="term"]').val(),r.find('.js-range[name="trafic"]').val(),elseCoeff,elsePrice);if(a.parent().find(".js-range-value").text(JSON.parse(a.attr("data-keys")).decline(s,!0)),r.find(".js-profit").text(l),"trafic"===a.attr("name")){for(var c=[],d=1;d<=12;d++)c.push(getProfit(d,s,elseCoeff,elsePrice));chart_else.chart.data.datasets[0].data=c,chart_else.update()}}}})}));for(var charts=document.querySelectorAll(".js-chart"),GC_DATA={labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[]},ELSE_DATA={labels:["1","2","3","4","5","6","7","8","9","10","11","12"],values:[]},i=1;i<=12;i++)GC_DATA.values.push(getProfit(i,1e3,gcCoeff,gcPrice)),ELSE_DATA.values.push(getProfit(i,1e3,elseCoeff,elsePrice));var options={legend:{display:!1},elements:{point:{radius:0,backgroundColor:"#0090FF"}},hover:{mode:"index",intersect:!1},tooltips:{mode:"index",intersect:!1,enabled:!1,custom:function(e){var t=document.getElementById("chartjs-tooltip");if(t||((t=document.createElement("div")).id="chartjs-tooltip",t.innerHTML="<div></div>",document.body.appendChild(t)),0!==e.opacity){if(t.classList.remove("above","below","no-transform"),e.yAlign?t.classList.add(e.yAlign):t.classList.add("no-transform"),e.body){e.title;var a=e.body.map((function(e){return e.lines})),r="<div>";a.forEach((function(e,t){r+="<p><span>$</span>"+e+"/мес</p>",r+="<p>"+["игрок","игрока","игроков"].decline(+$('input[name="trafic"]').val(),!0)+"</p>"})),r+="</div>",t.innerHTML=r}var n=this._chart.canvas.getBoundingClientRect();t.style.opacity=1,t.style.position="absolute",t.style.left=n.left+window.pageXOffset+e.caretX+"px",t.style.top=n.top+window.pageYOffset+e.caretY+"px",t.style.fontFamily=e._bodyFontFamily,t.style.fontSize=e.bodyFontSize+"px",t.style.fontStyle=e._bodyFontStyle,t.style.padding=e.yPadding+"px "+e.xPadding+"px",t.style.pointerEvents="none"}else t.style.opacity=0}},scales:{yAxes:[{gridLines:{zeroLineColor:"rgba(157, 175, 193, 0.2)",color:"rgba(157, 175, 193, 0.2)",drawBorder:!1},ticks:{beginAtZero:!0,fontColor:"rgba(157, 175, 193, 0.5)",fontFamily:"Gilroy, Helvetica, sans-serif",fontSize:14,padding:window.innerWidth<1200?5:10}}],xAxes:[{gridLines:{display:!1},ticks:{fontColor:"#96A1AD",fontFamily:"Gilroy, Helvetica, sans-serif",fontSize:14,stepSize:7,autoSkip:!1,maxRotation:0,minRotation:0}}]}};Array.from(charts).map((function(el,i){var chartElement=el.getContext("2d"),id=el.getAttribute("data-chart"),DATA=eval("".concat(id.toUpperCase(),"_DATA")),chartOptions=options,gradient=chartElement.createLinearGradient(260,-80,350,350);gradient.addColorStop(0,"rgba(0, 0, 0, 1)"),gradient.addColorStop(1,"rgba(180, 215, 255, 0)"),chartOptions.scales.yAxes[0].ticks.stepSize=Math.max.apply(Math,_toConsumableArray(DATA.values))/5,window["chart_".concat(el.getAttribute("data-chart"))]=new Chart(chartElement,{type:"line",data:{labels:DATA.labels,datasets:[{backgroundColor:gradient,pointBackgroundColor:"#9DAFC1",pointHoverRadius:0,data:DATA.values,borderColor:"#0177FC"}]},options:chartOptions})})),$(".profit__tabs-content.js-tab-content").not('[data-tab="1"]').hide(0),$(".js-reliable-term").on("change",(function(e){$(".reliable__table-inner").hide(0),$('.reliable__table-inner[data-table="'.concat($(e.currentTarget).val(),'"]')).css("display","inline-block").hide(0).fadeIn(300)})),$(".js-tournament").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("data-tournament");$(".tournaments__select-item--active").removeClass("tournaments__select-item--active"),t.addClass("tournaments__select-item--active"),$(".js-tournament-table").hide(0),$('.js-tournament-table[data-tournament="'.concat(a,'"]')).fadeIn(300)})),$(".shop__categories-item").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("data-grid");$(".shop__categories-item--active").removeClass("shop__categories-item--active"),t.addClass("shop__categories-item--active"),$(".shop__grid").hide(0),$('.shop__grid[data-grid="'.concat(a,'"]')).css("display","flex").hide(0).fadeIn(300)})),$(".shop__item").on("click",(function(e){e.preventDefault(),$(".shop__popup").hide(0),$(window).innerWidth()<1200?($(".shop__item").fadeIn(300),$(e.currentTarget).next().fadeIn(300),$(e.currentTarget).hide(0)):$(e.currentTarget).next().slideDown(300),setTimeout((function(){$(e.currentTarget).next().find(".shop__popup-close").fadeIn(300)}),300)})),$(".shop__popup-close").on("click",(function(e){$(e.currentTarget).hide(0),$(e.currentTarget).parent().hide(0),$(window).innerWidth()<1200&&(console.log($(e.currentTarget).parent().prev()),$(e.currentTarget).parent().prev().fadeIn(300))})),$(".shop__popup-gallery-thumbnail").on("click",(function(e){var t=$(e.currentTarget),a=t.attr("style");$(".shop__popup-gallery-thumbnail--active").removeClass("shop__popup-gallery-thumbnail--active"),t.addClass("shop__popup-gallery-thumbnail--active"),t.closest(".shop__popup-gallery").find(".shop__popup-gallery-image").attr("style",a)})),setInterval((function(){var e=$(".js-slide:eq(0)");e.appendTo(".awaits__slider"),e.addClass("awaits__slide--hide"),$(".awaits__text").text($(".awaits__slider-inner .js-slide:eq(0)").attr("data-text")),setTimeout((function(){e.removeClass("awaits__slide--hide"),e.appendTo(".awaits__slider-inner"),e.addClass("awaits__slide--show"),setTimeout((function(){e.removeClass("awaits__slide--show")}),500)}),500)}),5e3),$(".faq__item-head").on("click",(function(e){var t=$(e.currentTarget);$(".faq__item-content").slideUp(300),$(".faq__inner-head--active").click(),t.hasClass("faq__item-head--active")?t.removeClass("faq__item-head--active"):($(".faq__item-head--active").removeClass("faq__item-head--active"),t.addClass("faq__item-head--active"),t.parent().find(".faq__item-content").slideDown(300))})),$(".faq__inner-head").on("click",(function(e){var t=$(e.currentTarget);$(".faq__inner-content").slideUp(300),t.hasClass("faq__inner-head--active")?t.removeClass("faq__inner-head--active"):($(".faq__inner-head--active").removeClass("faq__inner-head--active"),t.addClass("faq__inner-head--active"),t.parent().find(".faq__inner-content").slideDown(300))})),$('.login__buttons-signin[type="submit"]').on("click",(function(e){e.preventDefault(),$(e.currentTarget).closest(".login__form").find(".login__form-error").fadeIn(300),$(".login__success").slideDown()})),$('.login__buttons-signup[type="submit"]').on("click",(function(e){e.preventDefault(),$(e.currentTarget).closest(".login__form").find(".login__form-error").fadeIn(300),$(".login__error").slideDown()})),$("a.login__buttons-signup").on("click",(function(){$(".login__form").hide(0),$('.login__form[data-form="signup"]').fadeIn(300)})),$("a.login__buttons-signin").on("click",(function(){$(".login__form").hide(0),$('.login__form[data-form="login"]').fadeIn(300)}))};